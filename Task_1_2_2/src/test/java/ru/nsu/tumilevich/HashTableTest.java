package ru.nsu.tumilevich;import org.junit.jupiter.api.Test;import static org.junit.jupiter.api.Assertions.*;import java.util.*;public class HashTableTest {	@Test	public void testConstructor() {		// Тест 1: Создание пустой таблицы		HashTable<String, Integer> table = new HashTable<>();		assertNotNull(table);		assertEquals(0, table.size());	}	@Test	public void testPutAndGet() {		// Тест 2: Добавление и получение элементов		HashTable<String, Integer> table = new HashTable<>();		table.put("one", 1);		table.put("two", 2);		table.put("three", 3);		assertEquals(1, table.get("one"));		assertEquals(2, table.get("two"));		assertEquals(3, table.get("three"));		assertEquals(3, table.size());	}	@Test	public void testPutOverride() {		// Тест 3: Перезапись существующего ключа		HashTable<String, Integer> table = new HashTable<>();		table.put("key", 100);		assertEquals(100, table.get("key"));		table.put("key", 200); // Перезапись		assertEquals(200, table.get("key"));		assertEquals(1, table.size()); // Размер не должен измениться	}	@Test	public void testGetNonExistent() {		// Тест 4: Получение несуществующего ключа		HashTable<String, Integer> table = new HashTable<>();		table.put("exists", 1);		assertNull(table.get("nonexistent"));	}	@Test	public void testRemove() {		// Тест 5: Удаление элементов		HashTable<String, Integer> table = new HashTable<>();		table.put("one", 1);		table.put("two", 2);		table.put("three", 3);		assertTrue(table.remove("two"));		assertNull(table.get("two"));		assertEquals(2, table.size());		assertFalse(table.remove("nonexistent")); // Удаление несуществующего		assertEquals(2, table.size());	}	@Test	public void testUpdate() {		// Тест 6: Обновление значений		HashTable<String, Number> table = new HashTable<>();		table.put("number", 1);		table.update("number", 1.5);		assertEquals(1.5, table.get("number"));		// Обновление несуществующего ключа (должно создать новый)		table.update("newKey", 100);		assertEquals(100, table.get("newKey"));	}	@Test	public void testContains() {		// Тест 7: Проверка наличия ключей		HashTable<String, Integer> table = new HashTable<>();		table.put("present", 1);		assertTrue(table.contains("present"));		assertFalse(table.contains("absent"));	}	@Test	public void testSize() {		// Тест 8: Проверка размера		HashTable<String, Integer> table = new HashTable<>();		assertEquals(0, table.size());		table.put("a", 1);		assertEquals(1, table.size());		table.put("b", 2);		assertEquals(2, table.size());		table.remove("a");		assertEquals(1, table.size());		table.remove("nonexistent"); // Не должен изменить размер		assertEquals(1, table.size());	}	@Test	public void testIterator() {		// Тест 9: Проверка итератора		HashTable<String, Integer> table = new HashTable<>();		table.put("a", 1);		table.put("b", 2);		table.put("c", 3);		Set<String> keys = new HashSet<>();		Set<Integer> values = new HashSet<>();		for (Map.Entry<String, Integer> entry : table) {			keys.add(entry.getKey());			values.add(entry.getValue());		}		assertEquals(3, keys.size());		assertTrue(keys.contains("a"));		assertTrue(keys.contains("b"));		assertTrue(keys.contains("c"));		assertEquals(3, values.size());		assertTrue(values.contains(1));		assertTrue(values.contains(2));		assertTrue(values.contains(3));	}	@Test	public void testConcurrentModificationException() {		HashTable<String, Integer> table = new HashTable<>();		table.put("a", 1);		table.put("b", 2);		Iterator<Map.Entry<String, Integer>> iterator = table.iterator();		table.put("c", 3); // Модификация во время итерации		assertThrows(ConcurrentModificationException.class, iterator::next);	}	@Test	public void testEquals() {		HashTable<String, Integer> table1 = new HashTable<>();		HashTable<String, Integer> table2 = new HashTable<>();		table1.put("a", 1);		table1.put("b", 2);		table2.put("a", 1);		table2.put("b", 2);		assertEquals(table1, table2);	}	@Test	public void testToString() {		HashTable<String, Integer> table = new HashTable<>();		table.put("a", 1);		table.put("b", 2);		String result = table.toString();		assertTrue(result.contains("a=1"));		assertTrue(result.contains("b=2"));	}}