package ru.nsu.tumilevich;import org.junit.jupiter.api.Test;import org.junit.jupiter.api.AfterEach;import org.junit.jupiter.api.BeforeEach;import java.io.*;import java.util.Objects;import java.util.Scanner;import static org.junit.jupiter.api.Assertions.*;//import static ru.nsu.tumilevich.Deck.give_first_card;//import static ru.nsu.tumilevich.Deck.see_all_cards;import java.util.Arrays;@SuppressWarnings("checkstyle:Indentation")class Black_test {    @Test    void deck_test() {		Deck deck = new Deck();		deck.make_deck();		deck.up_date_deck();	    String[] all_deck = deck.see_all_cards();		for (int i = 1; i <= 52; i++) {			boolean isPresent = Arrays.asList(all_deck).contains(deck.give_first_card());			assertTrue(isPresent);		}		assertEquals(null, deck.give_first_card());    }	@Test	void player_zero_card_test() {		Deck deck = new Deck();		deck.make_deck();		deck.up_date_deck();		Player player = new Player();		assertEquals(0, player.show_my_cards());	}	@Test	void player_n_card_test() {		Deck deck = new Deck();// сорт дека для удобвста		deck.make_deck();		String[] all_deck = deck.see_all_cards();		Player player = new Player();		assertEquals(0, player.show_my_cards());		for (int i = 0; i < 52; i++) {			assertEquals(all_deck[i], player.take_card(deck));		}		player.show_my_cards();	}	@Test	void krupie_test() {		Deck deck = new Deck();		deck.make_deck();		deck.up_date_deck();		for (int i = 1; i <= 10; i++) {			Krupie krupie = new Krupie();			Player player = new Player();			int game_stat = krupie.diller_turn(deck, krupie, player);			if (krupie.summ_card > 21){				assertEquals(game_stat, 0);			} else if (krupie.summ_card == 21 || krupie.summ_card > player.summ_card) {				assertEquals(game_stat, 1);			}			else {				assertEquals(game_stat, 0);			}		}	}}class BlackjackMainTest {	private final InputStream originalSystemIn = System.in;	private final PrintStream originalSystemOut = System.out;	private ByteArrayOutputStream testOutput;	@BeforeEach	void setUp() {		testOutput = new ByteArrayOutputStream();		System.setOut(new PrintStream(testOutput));	}	@AfterEach	void tearDown() {		System.setIn(originalSystemIn);		System.setOut(originalSystemOut);	}	private void provideInput(String data) {		ByteArrayInputStream testIn = new ByteArrayInputStream(data.getBytes());		System.setIn(testIn);	}	private String getOutput() {		return testOutput.toString();	}	@Test	void testMain_SingleRoundPlayerWins() {		// Симулируем ввод: один раунд где игрок выбирает Pass, затем выход		String input = "Yes\nPass\nNo\n"; // Добавлен "Pass" для хода в раунде		provideInput(input);		Scanner originalScanner = blackjack_main.scanner;		try {			blackjack_main.scanner = new Scanner(System.in);			blackjack_main.main(new String[]{});		} finally {			blackjack_main.scanner = originalScanner;		}		String output = getOutput();		assertTrue(output.contains("Добро пожаловать в Блэкджек!"));		assertTrue(output.contains("Раунд 1"));	}	@Test	void testMain_MultipleRounds() {		// Симулируем ввод: несколько раундов		String input = "Yes\nPass\nYes\nPass\nNo\n"; // Добавлены Pass для каждого раунда		provideInput(input);		Scanner originalScanner = blackjack_main.scanner;		try {			blackjack_main.scanner = new Scanner(System.in);			blackjack_main.main(new String[]{});		} finally {			blackjack_main.scanner = originalScanner;		}		String output = getOutput();		assertTrue(output.contains("Раунд 1"));		assertTrue(output.contains("Раунд 2"));		assertTrue(output.contains("Продолжаем?"));	}	@Test	void testRaund_PlayerBusts() {		// Тестируем случай когда игрок перебирает		// Берем много карт чтобы гарантированно перебрать		String input = "Take\nTake\nTake\nTake\nTake\nTake\nTake\nTake\nTake\nTake\n";		provideInput(input);		Scanner originalScanner = blackjack_main.scanner;		try {			blackjack_main.scanner = new Scanner(System.in);			int result = blackjack_main.raund(1);			assertTrue(result == 0 || result == 1);			String output = getOutput();			assertTrue(output.contains("Вы получили") || output.contains("проиграли") || output.contains("выиграли"));		} finally {			blackjack_main.scanner = originalScanner;		}	}}